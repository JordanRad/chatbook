{"openapi":"3.0.3","info":{"title":"Chatbook Microservices","version":"1.0"},"servers":[{"url":"http://localhost:80","description":"Default server for chatbook-microservices"}],"paths":{"/api/chat/v1/conversation":{"post":{"tags":["chat"],"summary":"addConversation chat","operationId":"chat#addConversation","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddConversationRequestBody"},"example":{"participants":[{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."},{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."}]}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationStatusResponse"},"example":{"message":"Consequatur voluptatem."}}}}}}},"/api/chat/v1/conversations":{"get":{"tags":["chat"],"summary":"getConversationsList chat","operationId":"chat#getConversationsList","parameters":[{"name":"limit","in":"query","description":"Messages count","allowEmptyValue":true,"schema":{"type":"integer","description":"Messages count","default":100,"example":7202467799712281378,"format":"int64"},"example":7392378602815775010}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversationsListResponse"},"example":{"resources":[{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."},{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."},{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."},{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."}],"total":7611293394246426582}}}}}}},"/api/chat/v1/conversations/{ID}":{"get":{"tags":["chat"],"summary":"searchInConversation chat","operationId":"chat#searchInConversation","parameters":[{"name":"limit","in":"query","description":"Messages count","allowEmptyValue":true,"schema":{"type":"integer","description":"Messages count","default":200,"example":5826021600464330405,"format":"int64"},"example":1665428063189854442},{"name":"searchInput","in":"query","description":"Input","allowEmptyValue":true,"schema":{"type":"string","description":"Input","default":"200","example":"eup","minLength":5},"example":"tja"},{"name":"ID","in":"path","description":"Conversation ID","required":true,"schema":{"type":"string","description":"Conversation ID","example":"Quaerat corrupti sunt cupiditate repellendus sint accusamus."},"example":"Unde voluptates culpa provident."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatHistoryResponse"},"example":{"count":2129124131978099643,"id":"Vel atque necessitatibus.","messages":[{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503}]}}}}}}},"/api/chat/v1/conversations/{ID}/history":{"get":{"tags":["chat"],"summary":"getConversationHistory chat","operationId":"chat#getConversationHistory","parameters":[{"name":"limit","in":"query","description":"Messages count","allowEmptyValue":true,"schema":{"type":"integer","description":"Messages count","default":200,"example":498980238089136256,"format":"int64"},"example":5305164807956441616},{"name":"beforeTimestamp","in":"query","description":"Before timestamp","allowEmptyValue":true,"schema":{"type":"integer","description":"Before timestamp","default":1257894000,"example":584504588141269225,"format":"int64"},"example":2763682553396471438},{"name":"ID","in":"path","description":"Conversation ID","required":true,"schema":{"type":"string","description":"Conversation ID","example":"Numquam quia consequatur."},"example":"Aut nobis quia porro est quia repudiandae."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatHistoryResponse"},"example":{"count":4524393561410419448,"id":"Similique molestiae necessitatibus sint.","messages":[{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503}]}}}}}}},"/api/user-management/v1/auth/login":{"post":{"tags":["auth"],"summary":"login auth","operationId":"auth#login","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequestBody"},"example":{"email":"Labore tempora.","password":"Ut ut."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"},"example":{"email":"Optio a.","id":"Recusandae libero omnis commodi qui quis et.","refresh_token":"Quasi quas.","role":"Sint quia molestias aut dolores soluta.","token":"Possimus ad."}}}},"404":{"description":"WrongCredentials: Email and/or password don't match","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/user-management/v1/auth/refresh-token":{"post":{"tags":["auth"],"summary":"refreshToken auth","operationId":"auth#refreshToken","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequestBody"},"example":{"email":"Veritatis natus quisquam.","refreshToken":"Illo omnis nesciunt minus sed."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"},"example":{"email":"Inventore quisquam.","id":"Dolores quibusdam.","refresh_token":"Maxime molestiae.","role":"Dolorum rerum.","token":"A cum eum molestiae sit enim non."}}}}}}},"/api/user-management/v1/info":{"get":{"tags":["info"],"summary":"getInfo info","operationId":"info#getInfo","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationStatusResponse"},"example":{"message":"Modi officia ipsum consequatur quas velit et."}}}}}}},"/api/user-management/v1/users/friend/{id}":{"post":{"tags":["user"],"summary":"addFriend user","operationId":"user#addFriend","parameters":[{"name":"id","in":"path","description":"User ID to add","required":true,"schema":{"type":"string","description":"User ID to add","example":"Mollitia excepturi."},"example":"Tempora pariatur ut officia sit cumque."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationStatusResponse"},"example":{"message":"Labore aut vel."}}}}}}},"/api/user-management/v1/users/friends/{id}":{"delete":{"tags":["user"],"summary":"removeFriend user","operationId":"user#removeFriend","parameters":[{"name":"id","in":"path","description":"User ID to delete","required":true,"schema":{"type":"string","description":"User ID to delete","example":"Aperiam aut."},"example":"Eum maxime omnis dolorum."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationStatusResponse"},"example":{"message":"Quia voluptates."}}}}}}},"/api/user-management/v1/users/profile":{"get":{"tags":["user"],"summary":"getProfile user","operationId":"user#getProfile","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"},"example":{"email":"Nihil excepturi dolore eveniet ratione.","firstName":"Impedit nisi assumenda ipsum adipisci.","friendsList":[{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."}],"id":"Aliquam modi deleniti earum ea repellendus.","lastName":"Qui voluptates nostrum iure incidunt dolorem."}}}}}},"put":{"tags":["user"],"summary":"updateProfileNames user","operationId":"user#updateProfileNames","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileNamesRequestBody"},"example":{"firstName":"Sequi voluptates quia.","lastName":"Illum accusantium nam."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationStatusResponse"},"example":{"message":"Ratione natus animi aperiam veniam enim."}}}}}}},"/api/user-management/v1/users/register":{"post":{"tags":["user"],"summary":"register user","operationId":"user#register","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequestBody"},"example":{"confirmedPassword":"Quidem sapiente ex et sunt earum.","email":"Aut facere molestiae cumque quia blanditiis quos.","firstName":"Libero inventore in tempore.","lastName":"Nemo laboriosam optio.","password":"Amet quia vero illum."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationStatusResponse"},"example":{"message":"Enim vel sapiente."}}}},"409":{"description":"UnmatchingPassowrds: Provided passwords are not the same","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}},"components":{"schemas":{"AddConversationRequestBody":{"type":"object","properties":{"participants":{"type":"array","items":{"$ref":"#/components/schemas/Friend"},"description":"Participants","example":[{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."},{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."},{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."},{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."}]}},"example":{"participants":[{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."},{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."},{"email":"Et minus nisi delectus ut sed soluta.","firstName":"Ab est.","id":"Doloremque omnis reprehenderit eos rerum.","lastName":"Sint quasi et."}]},"required":["participants"]},"ChatHistoryResponse":{"type":"object","properties":{"count":{"type":"integer","description":"Messages Count","example":4376947286078858442,"format":"int64"},"id":{"type":"string","description":"Chatroom ID","example":"Dolores omnis exercitationem ea nam quaerat."},"messages":{"type":"array","items":{"$ref":"#/components/schemas/ConversationMessage"},"description":"Chat history","example":[{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503}]}},"example":{"count":3439363601673785113,"id":"Sequi cupiditate fuga provident velit velit.","messages":[{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503},{"content":"Distinctio sunt necessitatibus.","senderID":"Eveniet temporibus quis dolore.","timestamp":0.9218358147278503}]},"required":["id","count","messages"]},"Conversation":{"type":"object","properties":{"ID":{"type":"string","description":"Conversation ID","example":"Dignissimos reiciendis debitis itaque non quia."},"lastMessageContent":{"type":"string","description":"Last message","example":"Qui illo neque aut qui aut cum."},"lastMessageDeliveredAt":{"type":"string","description":"TS for delivered time","example":"Rerum eius."},"lastMessageSenderID":{"type":"string","description":"Sender ID","example":"Doloremque et est animi numquam minus."}},"example":{"ID":"Non nesciunt sit molestias et.","lastMessageContent":"Doloremque voluptatem modi fugit alias.","lastMessageDeliveredAt":"Possimus aut adipisci.","lastMessageSenderID":"Nostrum aliquid."},"required":["ID","lastMessageSenderID","lastMessageContent","lastMessageDeliveredAt"]},"ConversationMessage":{"type":"object","properties":{"content":{"type":"string","description":"Message Content","example":"Magnam qui."},"senderID":{"type":"string","description":"Sender ID","example":"Rerum aliquid qui quisquam asperiores fugiat."},"timestamp":{"type":"number","description":"Timestamp of the message","example":0.5535724437893561,"format":"double"}},"example":{"content":"Fuga qui.","senderID":"Eligendi neque.","timestamp":0.3951026271346292},"required":["timestamp","senderID","content"]},"ConversationsListResponse":{"type":"object","properties":{"resources":{"type":"array","items":{"$ref":"#/components/schemas/Conversation"},"description":"Chat history","example":[{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."},{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."}]},"total":{"type":"integer","description":"Messages Count","example":7429144702590325499,"format":"int64"}},"example":{"resources":[{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."},{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."},{"ID":"Illo fugit eos magni officia maxime.","lastMessageContent":"Autem et rerum ad doloribus quisquam laudantium.","lastMessageDeliveredAt":"Qui nesciunt consequatur quia repellat et quia.","lastMessageSenderID":"Unde libero est."}],"total":1328733367544626025},"required":["total","resources"]},"Error":{"type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"example":{"id":"3F1FKVRR","message":"Value of ID must be an integer","name":"bad_request"},"required":["name","id","message","temporary","timeout","fault"]},"Friend":{"type":"object","properties":{"email":{"type":"string","description":"Email","example":"Aut voluptate dolores alias saepe fugiat."},"firstName":{"type":"string","description":"First name","example":"Suscipit et."},"id":{"type":"string","description":"User ID","example":"Quis veniam illum temporibus beatae."},"lastName":{"type":"string","description":"Last name","example":"Cum rerum dolorem quaerat vel."}},"example":{"email":"In earum hic voluptas ut cupiditate.","firstName":"Cum aut mollitia totam fuga.","id":"Et fuga repellendus.","lastName":"Sed et est asperiores ullam cum."},"required":["id","email","firstName","lastName"]},"LoginRequestBody":{"type":"object","properties":{"email":{"type":"string","description":"User email","example":"Reprehenderit iure."},"password":{"type":"string","description":"User password","example":"Totam cumque quis repudiandae."}},"example":{"email":"Reiciendis molestiae qui porro sunt qui.","password":"Quae nulla praesentium magnam et suscipit veniam."},"required":["email","password"]},"LoginResponse":{"type":"object","properties":{"email":{"type":"string","description":"User's email","example":"Unde corporis sit."},"id":{"type":"string","description":"User account's ID","example":"Vel impedit quia."},"refresh_token":{"type":"string","description":"Refresh token","example":"Est ut consequatur molestiae voluptates."},"role":{"type":"string","description":"User's role","example":"Sit corporis aut maiores porro."},"token":{"type":"string","description":"JWT Token","example":"Excepturi labore nesciunt repudiandae officia qui debitis."}},"example":{"email":"Omnis voluptatem.","id":"Eum mollitia recusandae delectus sunt.","refresh_token":"Qui sint harum sunt rerum delectus corrupti.","role":"Non ipsam mollitia nulla aut natus.","token":"Veniam ut impedit distinctio perspiciatis omnis libero."},"required":["email","token","refresh_token","role"]},"OperationStatusResponse":{"type":"object","properties":{"message":{"type":"string","description":"Operation status","example":"Maxime quibusdam."}},"example":{"message":"Qui animi qui excepturi."},"required":["message"]},"RefreshTokenRequestBody":{"type":"object","properties":{"email":{"type":"string","description":"User email","example":"Eius hic."},"refreshToken":{"type":"string","description":"Refresh token","example":"Dolorem et sint doloremque deleniti voluptatibus id."}},"example":{"email":"Doloribus dolor voluptatum.","refreshToken":"Est consequuntur."},"required":["email","refreshToken"]},"RegisterRequestBody":{"type":"object","properties":{"confirmedPassword":{"type":"string","description":"Confirmed password of the user","example":"Consequatur aut id sit consequatur quis autem."},"email":{"type":"string","description":"User email","example":"Facilis et praesentium."},"firstName":{"type":"string","description":"User first name","example":"Nulla molestiae omnis doloremque rerum."},"lastName":{"type":"string","description":"User last name","example":"Voluptates incidunt."},"password":{"type":"string","description":"User password","example":"Fuga adipisci blanditiis sed voluptatem sint veniam."}},"example":{"confirmedPassword":"Voluptatum optio nemo velit fugiat.","email":"Culpa quam enim et vero architecto laboriosam.","firstName":"Placeat vitae error assumenda libero.","lastName":"Nulla harum voluptatem.","password":"Animi vero eum."},"required":["email","password","confirmedPassword","firstName","lastName"]},"UpdateProfileNamesRequestBody":{"type":"object","properties":{"firstName":{"type":"string","description":"Updated user first name","example":"Tempore ab nisi adipisci qui beatae voluptatem."},"lastName":{"type":"string","description":"Updated user last name","example":"Repudiandae nihil at."}},"example":{"firstName":"Recusandae quod perspiciatis.","lastName":"Quibusdam minima est ut quia eos omnis."},"required":["firstName","lastName"]},"UserProfileResponse":{"type":"object","properties":{"email":{"type":"string","description":"Email","example":"Nisi reprehenderit."},"firstName":{"type":"string","description":"First name","example":"Pariatur iusto explicabo fuga."},"friendsList":{"type":"array","items":{"$ref":"#/components/schemas/Friend"},"description":"Friendslist","example":[{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."}]},"id":{"type":"string","description":"User ID","example":"Voluptas vel."},"lastName":{"type":"string","description":"Last name","example":"Voluptatum totam aut nam et."}},"example":{"email":"Accusantium architecto iusto accusantium quis.","firstName":"Fuga adipisci voluptate magnam unde.","friendsList":[{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."},{"email":"Cum soluta possimus accusamus similique quibusdam.","firstName":"Veniam eos rerum quas et et.","id":"Molestiae similique omnis voluptate pariatur non.","lastName":"Occaecati minima amet architecto sint."}],"id":"Quod sapiente eligendi porro autem.","lastName":"Perspiciatis ipsa."},"required":["id","email","firstName","lastName","friendsList"]}}},"tags":[{"name":"auth","description":"Authentication service is responsible for handling user data and requests"},{"name":"info","description":"Application info"},{"name":"chat","description":"User service is responsible for handling user data and requests"},{"name":"user","description":"User service is responsible for handling user data and requests"}]}