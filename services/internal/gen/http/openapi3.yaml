openapi: 3.0.3
info:
    title: Chatbook Microservices
    version: "1.0"
servers:
    - url: http://localhost:80
      description: Default server for chatbook-microservices
paths:
    /api/chat/v1/chatrooms/{ID}/history:
        get:
            tags:
                - chat
            summary: getChatHistory chat
            operationId: chat#getChatHistory
            parameters:
                - name: ID
                  in: path
                  description: Chatroom ID
                  required: true
                  schema:
                    type: string
                    description: Chatroom ID
                    example: Ipsa labore.
                  example: Maxime quibusdam.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ChatHistoryResponse'
                            example:
                                count: 7502369160443435265
                                id: Quas eos sint quia.
                                messages:
                                    - nextMessageID: Possimus ad.
                                      previousMessageID: Optio a.
                                      timestamp: 0.8769020674047365
                                    - nextMessageID: Possimus ad.
                                      previousMessageID: Optio a.
                                      timestamp: 0.8769020674047365
                                    - nextMessageID: Possimus ad.
                                      previousMessageID: Optio a.
                                      timestamp: 0.8769020674047365
                                    - nextMessageID: Possimus ad.
                                      previousMessageID: Optio a.
                                      timestamp: 0.8769020674047365
    /api/user-management/v1/auth/login:
        post:
            tags:
                - auth
            summary: login auth
            operationId: auth#login
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/LoginRequestBody'
                        example:
                            email: Veritatis natus quisquam.
                            password: Illo omnis nesciunt minus sed.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LoginResponse'
                            example:
                                email: Inventore quisquam.
                                id: Dolores quibusdam.
                                refresh_token: Maxime molestiae.
                                role: Dolorum rerum.
                                token: A cum eum molestiae sit enim non.
                "404":
                    description: 'WrongCredentials: Email and/or password don''t match'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /api/user-management/v1/auth/refresh-token:
        post:
            tags:
                - auth
            summary: refreshToken auth
            operationId: auth#refreshToken
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RefreshTokenRequestBody'
                        example:
                            email: Amet ut nihil consequuntur odio.
                            refreshToken: Qui impedit tempore sunt optio.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LoginResponse'
                            example:
                                email: Quisquam eos vitae velit quis.
                                id: Quo et.
                                refresh_token: Adipisci qui suscipit ut.
                                role: Magnam facilis incidunt occaecati consequatur ullam.
                                token: Ducimus asperiores sunt.
    /api/user-management/v1/info:
        get:
            tags:
                - info
            summary: getInfo info
            operationId: info#getInfo
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/OperationStatusResponse'
                            example:
                                message: Soluta quia.
    /api/user-management/v1/users/friend/{id}:
        post:
            tags:
                - user
            summary: addFriend user
            operationId: user#addFriend
            parameters:
                - name: id
                  in: path
                  description: User ID to add
                  required: true
                  schema:
                    type: string
                    description: User ID to add
                    example: Qui animi qui excepturi.
                  example: Dolores omnis exercitationem ea nam quaerat.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/OperationStatusResponse'
                            example:
                                message: Sint quasi et.
    /api/user-management/v1/users/friends/{id}:
        delete:
            tags:
                - user
            summary: removeFriend user
            operationId: user#removeFriend
            parameters:
                - name: id
                  in: path
                  description: User ID to delete
                  required: true
                  schema:
                    type: string
                    description: User ID to delete
                    example: Sed rerum aliquid qui quisquam asperiores fugiat.
                  example: Repellendus magnam qui.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/OperationStatusResponse'
                            example:
                                message: Nemo laboriosam optio.
    /api/user-management/v1/users/profile:
        get:
            tags:
                - user
            summary: getProfile user
            operationId: user#getProfile
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UserProfileResponse'
                            example:
                                email: Et velit illo fugit.
                                firstName: Magni officia maxime aut unde libero.
                                friendsList:
                                    - email: Vel id doloremque et error.
                                      firstName: Expedita beatae et alias.
                                      id: Similique molestiae necessitatibus sint.
                                      lastName: Quo quia et.
                                    - email: Vel id doloremque et error.
                                      firstName: Expedita beatae et alias.
                                      id: Similique molestiae necessitatibus sint.
                                      lastName: Quo quia et.
                                    - email: Vel id doloremque et error.
                                      firstName: Expedita beatae et alias.
                                      id: Similique molestiae necessitatibus sint.
                                      lastName: Quo quia et.
                                    - email: Vel id doloremque et error.
                                      firstName: Expedita beatae et alias.
                                      id: Similique molestiae necessitatibus sint.
                                      lastName: Quo quia et.
                                id: Nisi eos vel atque necessitatibus eum.
                                lastName: Ea autem et rerum ad.
        put:
            tags:
                - user
            summary: updateProfileNames user
            operationId: user#updateProfileNames
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateProfileNamesRequestBody'
                        example:
                            firstName: Laudantium suscipit qui nesciunt consequatur quia repellat.
                            lastName: Quia excepturi error similique.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/OperationStatusResponse'
                            example:
                                message: Doloremque omnis reprehenderit eos rerum.
    /api/user-management/v1/users/register:
        post:
            tags:
                - user
            summary: register user
            operationId: user#register
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RegisterRequestBody'
                        example:
                            confirmedPassword: Eum ullam eveniet temporibus quis dolore mollitia.
                            email: Rerum qui.
                            firstName: Libero omnis commodi qui quis et.
                            lastName: Modi officia ipsum consequatur quas velit et.
                            password: Laboriosam tempore atque mollitia ut.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/OperationStatusResponse'
                            example:
                                message: Distinctio sunt necessitatibus.
                "409":
                    description: 'UnmatchingPassowrds: Provided passwords are not the same'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
components:
    schemas:
        ChatHistoryResponse:
            type: object
            properties:
                count:
                    type: integer
                    description: Messages Count
                    example: 898392797315693975
                    format: int64
                id:
                    type: string
                    description: Chatroom ID
                    example: Et minima voluptatem explicabo occaecati asperiores minus.
                messages:
                    type: array
                    items:
                        $ref: '#/components/schemas/ChatMessage'
                    description: Chat history
                    example:
                        - nextMessageID: Possimus ad.
                          previousMessageID: Optio a.
                          timestamp: 0.8769020674047365
                        - nextMessageID: Possimus ad.
                          previousMessageID: Optio a.
                          timestamp: 0.8769020674047365
                        - nextMessageID: Possimus ad.
                          previousMessageID: Optio a.
                          timestamp: 0.8769020674047365
            example:
                count: 7650130806802272220
                id: Nesciunt iure.
                messages:
                    - nextMessageID: Possimus ad.
                      previousMessageID: Optio a.
                      timestamp: 0.8769020674047365
                    - nextMessageID: Possimus ad.
                      previousMessageID: Optio a.
                      timestamp: 0.8769020674047365
                    - nextMessageID: Possimus ad.
                      previousMessageID: Optio a.
                      timestamp: 0.8769020674047365
            required:
                - id
                - count
                - messages
        ChatMessage:
            type: object
            properties:
                nextMessageID:
                    type: string
                    description: Next message ID
                    example: Temporibus et numquam.
                previousMessageID:
                    type: string
                    description: Previous message ID
                    example: Quis sed voluptates nihil.
                timestamp:
                    type: number
                    description: Timestamp of the message
                    example: 0.21227583677059897
                    format: double
            example:
                nextMessageID: Corporis ut magnam dolor quas incidunt.
                previousMessageID: Totam velit repudiandae.
                timestamp: 0.228044762666239
            required:
                - timestamp
                - previousMessageID
                - nextMessageID
        Error:
            type: object
            properties:
                fault:
                    type: boolean
                    description: Is the error a server-side fault?
                    example: false
                id:
                    type: string
                    description: ID is a unique identifier for this particular occurrence of the problem.
                    example: 123abc
                message:
                    type: string
                    description: Message is a human-readable explanation specific to this occurrence of the problem.
                    example: parameter 'p' must be an integer
                name:
                    type: string
                    description: Name is the name of this class of errors.
                    example: bad_request
                temporary:
                    type: boolean
                    description: Is the error temporary?
                    example: true
                timeout:
                    type: boolean
                    description: Is the error a timeout?
                    example: false
            example:
                id: 3F1FKVRR
                message: Value of ID must be an integer
                name: bad_request
            required:
                - name
                - id
                - message
                - temporary
                - timeout
                - fault
        Friend:
            type: object
            properties:
                email:
                    type: string
                    description: Email
                    example: Est consequuntur.
                firstName:
                    type: string
                    description: First name
                    example: Unde corporis sit.
                id:
                    type: string
                    description: User ID
                    example: Doloribus dolor voluptatum.
                lastName:
                    type: string
                    description: Last name
                    example: Excepturi labore nesciunt repudiandae officia qui debitis.
            example:
                email: Sit corporis aut maiores porro.
                firstName: Vel impedit quia.
                id: Est ut consequatur molestiae voluptates.
                lastName: Omnis voluptatem.
            required:
                - id
                - email
                - firstName
                - lastName
        LoginRequestBody:
            type: object
            properties:
                email:
                    type: string
                    description: User email
                    example: Qui reprehenderit ut.
                password:
                    type: string
                    description: User password
                    example: Minus ipsa totam.
            example:
                email: Ut asperiores.
                password: Est sapiente quas quia.
            required:
                - email
                - password
        LoginResponse:
            type: object
            properties:
                email:
                    type: string
                    description: User's email
                    example: Dolores sit sed officiis consequatur.
                id:
                    type: string
                    description: User account's ID
                    example: Voluptates nesciunt rerum beatae praesentium accusantium blanditiis.
                refresh_token:
                    type: string
                    description: Refresh token
                    example: Doloremque sequi sed.
                role:
                    type: string
                    description: User's role
                    example: Facere consequuntur.
                token:
                    type: string
                    description: JWT Token
                    example: Quia est in aut id accusantium ab.
            example:
                email: Et officia quia saepe quia dolore nemo.
                id: Dolorem ut fuga deleniti id provident molestiae.
                refresh_token: Suscipit inventore sint aut est hic.
                role: Nemo quos consequuntur laborum ut officiis commodi.
                token: Iusto aliquam nihil dolorum et dicta tempore.
            required:
                - email
                - token
                - refresh_token
                - role
        OperationStatusResponse:
            type: object
            properties:
                message:
                    type: string
                    description: Operation status
                    example: Non dolor earum unde.
            example:
                message: Sed numquam.
            required:
                - message
        RefreshTokenRequestBody:
            type: object
            properties:
                email:
                    type: string
                    description: User email
                    example: Ex repellendus.
                refreshToken:
                    type: string
                    description: Refresh token
                    example: Sapiente nostrum minima reiciendis.
            example:
                email: Qui beatae deserunt nihil qui recusandae hic.
                refreshToken: Doloribus atque accusantium odio natus tenetur.
            required:
                - email
                - refreshToken
        RegisterRequestBody:
            type: object
            properties:
                confirmedPassword:
                    type: string
                    description: Confirmed password of the user
                    example: Ratione recusandae vitae suscipit.
                email:
                    type: string
                    description: User email
                    example: Reprehenderit eum sint quidem ipsa.
                firstName:
                    type: string
                    description: User first name
                    example: Voluptatem incidunt eum reiciendis molestiae quasi impedit.
                lastName:
                    type: string
                    description: User last name
                    example: Qui officia rerum nulla cum magnam.
                password:
                    type: string
                    description: User password
                    example: Cumque iusto.
            example:
                confirmedPassword: Eius incidunt est aut voluptatibus omnis sint.
                email: Est placeat laboriosam quia quibusdam ipsum voluptate.
                firstName: Sunt quas et consequatur.
                lastName: Est unde ipsam qui ad ex.
                password: Libero in sit doloremque accusantium dolores.
            required:
                - email
                - password
                - confirmedPassword
                - firstName
                - lastName
        UpdateProfileNamesRequestBody:
            type: object
            properties:
                firstName:
                    type: string
                    description: Updated user first name
                    example: Iure hic totam.
                lastName:
                    type: string
                    description: Updated user last name
                    example: Quis repudiandae.
            example:
                firstName: Reiciendis molestiae qui porro sunt qui.
                lastName: Quae nulla praesentium magnam et suscipit veniam.
            required:
                - firstName
                - lastName
        UserProfileResponse:
            type: object
            properties:
                email:
                    type: string
                    description: Email
                    example: Consectetur dicta quaerat iure.
                firstName:
                    type: string
                    description: First name
                    example: Provident consequuntur occaecati ipsam eius hic.
                friendsList:
                    type: array
                    items:
                        $ref: '#/components/schemas/Friend'
                    description: Friendslist
                    example:
                        - email: Vel id doloremque et error.
                          firstName: Expedita beatae et alias.
                          id: Similique molestiae necessitatibus sint.
                          lastName: Quo quia et.
                        - email: Vel id doloremque et error.
                          firstName: Expedita beatae et alias.
                          id: Similique molestiae necessitatibus sint.
                          lastName: Quo quia et.
                        - email: Vel id doloremque et error.
                          firstName: Expedita beatae et alias.
                          id: Similique molestiae necessitatibus sint.
                          lastName: Quo quia et.
                id:
                    type: string
                    description: User ID
                    example: Fugit eos voluptas eligendi quam praesentium quas.
                lastName:
                    type: string
                    description: Last name
                    example: Dolorem et sint doloremque deleniti voluptatibus id.
            example:
                email: Qui sint harum sunt rerum delectus corrupti.
                firstName: Non ipsam mollitia nulla aut natus.
                friendsList:
                    - email: Vel id doloremque et error.
                      firstName: Expedita beatae et alias.
                      id: Similique molestiae necessitatibus sint.
                      lastName: Quo quia et.
                    - email: Vel id doloremque et error.
                      firstName: Expedita beatae et alias.
                      id: Similique molestiae necessitatibus sint.
                      lastName: Quo quia et.
                    - email: Vel id doloremque et error.
                      firstName: Expedita beatae et alias.
                      id: Similique molestiae necessitatibus sint.
                      lastName: Quo quia et.
                    - email: Vel id doloremque et error.
                      firstName: Expedita beatae et alias.
                      id: Similique molestiae necessitatibus sint.
                      lastName: Quo quia et.
                id: Ut impedit distinctio perspiciatis omnis libero.
                lastName: Eum mollitia recusandae delectus sunt.
            required:
                - id
                - email
                - firstName
                - lastName
                - friendsList
tags:
    - name: auth
      description: Authentication service is responsible for handling user data and requests
    - name: chat
      description: User service is responsible for handling user data and requests
    - name: info
      description: Application info
    - name: notification
      description: Notification service is responsible for handling user data and requests
    - name: user
      description: User service is responsible for handling user data and requests
